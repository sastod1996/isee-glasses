(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["GlassTester"]=e():t["GlassTester"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"01f9":function(t,e,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),s=n("32e9"),a=n("84f2"),c=n("41a0"),u=n("7f20"),l=n("38fd"),f=n("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",h="keys",v="values",m=function(){return this};t.exports=function(t,e,n,g,y,b,x){c(n,e,g);var w,_,C,j=function(t){if(!d&&t in M)return M[t];switch(t){case h:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},k=e+" Iterator",L=y==v,O=!1,M=t.prototype,S=M[f]||M[p]||y&&M[y],E=S||j(y),P=y?L?j("entries"):E:void 0,$="Array"==e&&M.entries||S;if($&&(C=l($.call(new t)),C!==Object.prototype&&C.next&&(u(C,k,!0),r||"function"==typeof C[f]||s(C,f,m))),L&&S&&S.name!==v&&(O=!0,E=function(){return S.call(this)}),r&&!x||!d&&!O&&M[f]||s(M,f,E),a[e]=E,a[k]=m,y)if(w={values:L?E:j(v),keys:b?E:j(h),entries:P},x)for(_ in w)_ in M||o(M,_,w[_]);else i(i.P+i.F*(d||O),e,w);return w}},"097d":function(t,e,n){"use strict";var r=n("5ca1"),i=n("8378"),o=n("7726"),s=n("ebd6"),a=n("bcaa");r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},"0a49":function(t,e,n){var r=n("9b43"),i=n("626a"),o=n("4bf8"),s=n("9def"),a=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f,p=e||a;return function(e,a,h){for(var v,m,g=o(e),y=i(g),b=r(a,h,3),x=s(y.length),w=0,_=n?p(e,x):c?p(e,0):void 0;x>w;w++)if((d||w in y)&&(v=y[w],m=b(v,w,g),t))if(n)_[w]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:_.push(v)}else if(l)return!1;return f?-1:u||l?l:_}}},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,s=o(e),a=s.length,c=0;while(a>c)r.f(t,n=s[c++],e[n]);return t}},1991:function(t,e,n){var r,i,o,s=n("9b43"),a=n("31f4"),c=n("fab2"),u=n("230e"),l=n("7726"),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,g={},y="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},x=function(t){b.call(t.data)};d&&p||(d=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return g[++m]=function(){a("function"==typeof t?t:Function(t),e)},r(m),m},p=function(t){delete g[t]},"process"==n("2d95")(f)?r=function(t){f.nextTick(s(b,t,1))}:v&&v.now?r=function(t){v.now(s(b,t,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=x,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",x,!1)):r=y in u("script")?function(t){c.appendChild(u("script"))[y]=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:d,clear:p}},"1fa8":function(t,e,n){var r=n("cb7c");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t["return"];throw void 0!==o&&r(o.call(t)),e}}},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"23c6":function(t,e,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},"25f3":function(t,e,n){"use strict";var r=n("349d"),i=n.n(r);i.a},"27ee":function(t,e,n){var r=n("23c6"),i=n("2b4c")("iterator"),o=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),s=n("ca5a")("src"),a="toString",c=Function[a],u=(""+c).split(a);n("8378").inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,s)||i(n,s,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||c.call(this)})},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},c="prototype",u=function(){var t,e=n("230e")("iframe"),r=o.length,i="<",s=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),u=t.F;while(r--)delete u[c][o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=r(t),n=new a,a[c]=null,n[s]=t):n=u(),void 0===e?n:i(n,e)}},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,s="function"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))};a.store=r},"2d00":function(t,e){t.exports=!1},"2d4a":function(t,e,n){},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"31f4":function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"33a4":function(t,e,n){var r=n("84f2"),i=n("2b4c")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},"349d":function(t,e,n){},"38fd":function(t,e,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4a59":function(t,e,n){var r=n("9b43"),i=n("1fa8"),o=n("33a4"),s=n("cb7c"),a=n("9def"),c=n("27ee"),u={},l={};e=t.exports=function(t,e,n,f,d){var p,h,v,m,g=d?function(){return t}:c(t),y=r(n,f,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=a(t.length);p>b;b++)if(m=e?y(s(h=t[b])[0],h[1]):y(t[b]),m===u||m===l)return m}else for(v=g.call(t);!(h=v.next()).done;)if(m=i(v,y,h.value,e),m===u||m===l)return m};e.BREAK=u,e.RETURN=l},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},"4fdd":function(t,e,n){},"551c":function(t,e,n){"use strict";var r,i,o,s,a=n("2d00"),c=n("7726"),u=n("9b43"),l=n("23c6"),f=n("5ca1"),d=n("d3f4"),p=n("d8e8"),h=n("f605"),v=n("4a59"),m=n("ebd6"),g=n("1991").set,y=n("8079")(),b=n("a5b8"),x=n("9c80"),w=n("a25f"),_=n("bcaa"),C="Promise",j=c.TypeError,k=c.process,L=k&&k.versions,O=L&&L.v8||"",M=c[C],S="process"==l(k),E=function(){},P=i=b.f,$=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n("2b4c")("species")]=function(t){t(E,E)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==O.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),A=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{a?(i||(2==t._h&&G(t),t._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===e.promise?u(j("Promise-chain cycle")):(o=A(n))?o.call(n,c,u):c(n)):u(r)}catch(t){l&&!s&&l.exit(),u(t)}};while(n.length>o)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&T(t)})}},T=function(t){g.call(c,function(){var e,n,r,i=t._v,o=I(t);if(o&&(e=x(function(){S?k.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=S||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},G=function(t){g.call(c,function(){var e;S?k.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw j("Promise can't be resolved itself");(e=A(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,u(B,r,1),u(F,r,1))}catch(t){F.call(r,t)}}):(n._v=t,n._s=1,R(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};$||(M=function(t){h(this,M,C,"_h"),p(t),r.call(this);try{t(u(B,this,1),u(F,this,1))}catch(t){F.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("dcbc")(M.prototype,{then:function(t,e){var n=P(m(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=S?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(B,t,1),this.reject=u(F,t,1)},b.f=P=function(t){return t===M||t===s?new o(t):i(t)}),f(f.G+f.W+f.F*!$,{Promise:M}),n("7f20")(M,C),n("7a56")(C),s=n("8378")[C],f(f.S+f.F*!$,C,{reject:function(t){var e=P(this),n=e.reject;return n(t),e.promise}}),f(f.S+f.F*(a||!$),C,{resolve:function(t){return _(a&&this===s?M:this,t)}}),f(f.S+f.F*!($&&n("5cc5")(function(t){M.all(t)["catch"](E)})),C,{all:function(t){var e=this,n=P(e),r=n.resolve,i=n.reject,o=x(function(){var n=[],o=0,s=1;v(t,!1,function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--s||r(n))},i)}),--s||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=P(e),r=n.reject,i=x(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},5537:function(t,e,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"56ee":function(t,e,n){"use strict";var r=n("acb1"),i=n.n(r);i.a},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("32e9"),s=n("2aba"),a=n("9b43"),c="prototype",u=function(t,e,n){var l,f,d,p,h=t&u.F,v=t&u.G,m=t&u.S,g=t&u.P,y=t&u.B,b=v?r:m?r[e]||(r[e]={}):(r[e]||{})[c],x=v?i:i[e]||(i[e]={}),w=x[c]||(x[c]={});for(l in v&&(n=e),n)f=!h&&b&&void 0!==b[l],d=(f?b:n)[l],p=y&&f?a(d,r):g&&"function"==typeof d?a(Function.call,d):d,b&&s(b,l,d,t&u.U),x[l]!=d&&o(x,l,p),g&&w[l]!=d&&(w[l]=d)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},"5cc5":function(t,e,n){var r=n("2b4c")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},7514:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"7a56":function(t,e,n){"use strict";var r=n("7726"),i=n("86cc"),o=n("9e1e"),s=n("2b4c")("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},"7f20":function(t,e,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},8079:function(t,e,n){var r=n("7726"),i=n("1991").set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n("2d95")(s);t.exports=function(){var t,e,n,u=function(){var r,i;c&&(r=s.domain)&&r.exit();while(t){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,d=document.createTextNode("");new o(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},8378:function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),s=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"96cf":function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"===typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{l=e.regeneratorRuntime=u?t.exports:{},l.wrap=x;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",v={},m={};m[s]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g($([])));y&&y!==r&&i.call(y,s)&&(m=y);var b=j.prototype=_.prototype=Object.create(m);C.prototype=b.constructor=j,j.constructor=C,j[c]=C.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},k(L.prototype),L.prototype[a]=function(){return this},l.AsyncIterator=L,l.async=function(t,e,n,r){var i=new L(x(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},k(b),b[c]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=$,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return a.type="throw",a.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:$(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function x(t,e,n,r){var i=e&&e.prototype instanceof _?e:_,o=Object.create(i.prototype),s=new P(r||[]);return o._invoke=O(t,n,s),o}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function _(){}function C(){}function j(){}function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function L(t){function e(n,r,o,s){var a=w(t[n],t,r);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"===typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(u).then(function(t){c.value=t,o(c)},s)}s(a.arg)}var n;function r(t,r){function i(){return new Promise(function(n,i){e(t,r,n,i)})}return n=n?n.then(i,i):i()}this._invoke=r}function O(t,e,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return A()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=M(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=w(t,e,n);if("normal"===c.type){if(r=n.done?h:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}function M(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,M(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=w(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function $(t){if(t){var e=t[s];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){while(++r<t.length)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9c80":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a25f:function(t,e,n){var r=n("7726"),i=r.navigator;t.exports=i&&i.userAgent||""},a5b8:function(t,e,n){"use strict";var r=n("d8e8");function i(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},aa3e:function(t,e,n){"use strict";var r=n("4fdd"),i=n.n(r);i.a},acb1:function(t,e,n){},b3cb:function(t,e,n){(function(e,n){t.exports=n()})(0,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=2)}([function(t,e,n){var r=n(3)(n(1),n(4),null,null);t.exports=r.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={name:"vue-web-cam",data:function(){return{source:null,canvas:null,camerasListEmitted:!1,cameras:[]}},props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:500},autoplay:{type:Boolean,default:!0},screenshotFormat:{type:String,default:"image/jpeg"},deviceId:{type:String,default:null},playsinline:{type:Boolean,default:!0}},watch:{deviceId:function(t){this.changeCamera(t)}},mounted:function(){this.setupMedia()},methods:{legacyGetUserMediaSupport:function(){return function(t){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;return e?new Promise(function(n,r){e.call(navigator,t,n,r)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}},setupMedia:function(){void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=this.legacyGetUserMediaSupport()),this.testMediaAccess()},loadCameras:function(){var t=this;navigator.mediaDevices.enumerateDevices().then(function(e){for(var n=0;n!==e.length;++n){var r=e[n];"videoinput"===r.kind&&t.cameras.push(r)}}).then(function(){t.camerasListEmitted||(t.$emit("cameras",t.cameras),t.camerasListEmitted=!0)}).catch(function(e){return t.$emit("notsupported",e)})},changeCamera:function(t){this.stop(),this.$emit("camera-change",t),this.loadCamera(t)},loadSrcStream:function(t){"srcObject"in this.$refs.video?this.$refs.video.srcObject=t:this.source=window.HTMLMediaElement.srcObject(t),this.$emit("started",t)},stopStreamedVideo:function(t){var e=this,n=t.srcObject,r=n.getTracks();r.forEach(function(t){t.stop(),e.$emit("stopped",n),e.$refs.video.srcObject=null,e.source=null})},stop:function(){null!==this.$refs.video&&this.$refs.video.srcObject&&this.stopStreamedVideo(this.$refs.video)},start:function(){this.deviceId&&this.loadCamera(this.deviceId)},testMediaAccess:function(){var t=this;navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){return t.loadCameras()}).catch(function(e){return t.$emit("error",e)})},loadCamera:function(t){var e=this;navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:t}}}).then(function(t){return e.loadSrcStream(t)}).catch(function(t){return e.$emit("error",t)})},capture:function(){return this.getCanvas().toDataURL(this.screenshotFormat)},getCanvas:function(){var t=this.$refs.video;if(!this.ctx){var e=document.createElement("canvas");e.height=t.videoHeight,e.width=t.videoWidth,this.canvas=e,this.ctx=e.getContext("2d")}var n=this,r=n.ctx,i=n.canvas;return r.drawImage(t,0,0,i.width,i.height),i}}}},function(t,e,n){"use strict";var r=n(0),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var s=function t(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.installed||e.component(i.default.name,i.default)};t.exports={WebCam:i.default,install:s},t.exports.default=t.exports},function(t,e){t.exports=function(t,e,n,r){var i,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(i=t,o=t.default);var a="function"===typeof o?o.options:o;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),n&&(a._scopeId=n),r){var c=Object.create(a.computed||null);Object.keys(r).forEach(function(t){var e=r[t];c[t]=function(){return e}}),a.computed=c}return{esModule:i,exports:o,options:a}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("video",{ref:"video",attrs:{width:t.width,height:t.height,src:t.source,autoplay:t.autoplay,playsinline:t.playsinline}})},staticRenderFns:[]}}])})},bcaa:function(t,e,n){var r=n("cb7c"),i=n("d3f4"),o=n("a5b8");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),s=n.resolve;return s(e),n.promise}},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var r=n("6821"),i=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,s){var a,c=r(e),u=i(c.length),l=o(s,u);if(t&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),s=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),s=n("613b")("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);while(e.length>c)r(a,n=e[c++])&&(~o(u,n)||u.push(n));return u}},d153:function(t,e,n){"use strict";var r=n("2d4a"),i=n.n(r);i.a},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},dcbc:function(t,e,n){var r=n("2aba");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e853:function(t,e,n){var r=n("d3f4"),i=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},ebd6:function(t,e,n){var r=n("cb7c"),i=n("d8e8"),o=n("2b4c")("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},f605:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&((r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js$/))&&(n.p=r[1]));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"overlay fixed pin overflow-auto flex items-center py-4"},[n("div",{staticClass:"w-full max-h-full p-3"},[n("div",{staticClass:"absolute pin",on:{click:function(e){t.$emit("update:visible",!1)}}}),n("div",{staticClass:"m-auto max-w-lg flex-none bg-white p-1 sm:p-2 font-sans text-black relative rounded-lg"},[n("div",{staticClass:"absolute pin-r pin-t mr-2 mt-2"},[n("button",{staticClass:"bg-grey-darker text-white rounded-full w-8 h-8",on:{click:function(e){t.$emit("update:visible",!1)}}},[n("svg",{staticClass:"fill-current w-3 h-3",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}})])])]),t.loaded.product&&t.loaded.guest?t.error?n("div",{staticClass:"p-4"},[n("h4",[t._v("Probador no disponible para este producto.")])]):n("div",{staticClass:"pt-8"},[n("div",{staticClass:"hidden md:block mb-2 text-center"},[n("h2",[t._v(t._s(t.resource.name))]),n("p",[t._v("Cód. "+t._s(t.resource.code))])]),t.addingModel?n("div",[n("NewPhoto",{attrs:{guest:t.guest},on:{step:function(e){t.photoStep=e},cancel:function(e){t.addingModel=!1},done:t.updateGuest}}),"choose"===t.photoStep?n("div",{staticClass:"md:hidden mt-2"},[n("h5",{staticClass:"text-center font-light"},[t._v("Selecciona una foto")]),n("PhotosGallery",{attrs:{active:t.active.model,models:t.models},on:{"update:active":function(e){t.$set(t.active,"model",e)}}})],1):t._e()],1):n("div",{staticClass:"text-center"},[n("div",{staticClass:"px-2 mb-3"},[n("div",{staticClass:"flex justify-center -mx-2"},[n("div",{staticClass:"px-2 hidden md:block overflow-auto my-3",staticStyle:{height:"365px"}},[n("PhotosGallery",{attrs:{active:t.active.model,models:t.models},on:{"update:active":function(e){t.$set(t.active,"model",e)}}})],1),n("div",{staticClass:"w-75 px-2 my-3"},[n("GlassTest",{key:t.model.id+"|"+t.glass.slug,attrs:{model:t.model,glass:t.glass}})],1)])]),n("div",{staticClass:"px-4 mb-3"},[n("div",{staticClass:"flex justify-center -mx-4"},[n("div",{staticClass:"px-4 hidden md:block"},[n("div",{staticClass:"cursor-pointer flex flex-col items-center",on:{click:function(e){t.addingModel=!0}}},[n("div",{staticClass:"w-12 h-12 md:w-16 md:h-16 flex justify-center items-center text-white text-4xl rounded-full font-light bg-igreen"},[n("svg",{staticClass:"fill-current w-10 h-10",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}})])]),n("h4",{staticClass:"text-sm"},[t._v("Agregar foto")])])]),n("div",{staticClass:"w-75 px-4"},[t.glasses.length>1?n("p",{staticClass:"md:hidden uppercase"},[t._v("Prueba otros colores")]):t._e(),n("GlassColors",{attrs:{active:t.active.glass,glasses:t.glasses},on:{"update:active":function(e){t.$set(t.active,"glass",e)}}})],1)])]),n("div",{staticClass:"md:hidden mb-4"},[n("button",{staticClass:"px-6 py-3 text-white rounded bg-iblue",on:{click:function(e){t.addingModel=!0}}},[t._v("\n              ELEGIR FOTO\n            ")])])])]):n("div",{staticClass:"p-4"},[n("h4",[t._v("Loading...")])])])])]):t._e()},o=[];n("96cf");function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t,e){try{var n=o[t](e),s=n.value}catch(t){return void i(t)}n.done?r(s):Promise.resolve(s).then(a,c)}function a(t){s("next",t)}function c(t){s("throw",t)}a()})}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}n("7514");var u,l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{staticClass:"flex justify-center relative"},[n("canvas",{ref:"canvas",staticClass:"flex-none",attrs:{width:"284",height:"366"}}),n("div",{staticClass:"absolute pin"})])])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex justify-center"},[n("div",{staticClass:"mdi mdi-circle text-purple"}),n("div",{staticClass:"mdi mdi-circle text-green"})])}];n("551c");function d(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function p(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(t){return d(t)||p(t)||h()}var m={props:{glass:{type:Object,required:!0},model:{type:Object,required:!0}},data:function(){return{canvas:null}},mounted:function(){var t=s(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return u=window.fabric,e=this.canvas=new u.Canvas(this.$refs.canvas),u.Object.prototype.transparentCorners=!1,t.next=5,this.loadBackground();case 5:return t.next=7,this.loadGlass();case 7:e.renderAll();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{loadBackground:function(){var t=s(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.canvas,t.next=3,g(this.model.photo);case 3:n=t.sent,e.setHeight(n.height),e.setWidth(n.width),e.setBackgroundImage(n);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),loadGlass:function(){var t=s(regeneratorRuntime.mark(function t(){var e,n,r,i,o,s,a,c,u,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.canvas,n=this.model,t.next=3,g(this.glass.picture);case 3:r=t.sent,r.selectable=!1,r.hoverCursor="default",e.add(r),i=b.apply(void 0,v(n.points)),o=b.apply(void 0,v(this.glass.points)),r.scale(i/o),s=x.apply(void 0,v(n.points)),a=x.apply(void 0,v(this.glass.points)),r.rotate(s-a),c=y(this.glass.points[0],s-a),u=this.model.points[0].x-c.x*r.scaleX,l=this.model.points[0].y-c.y*r.scaleY,r.set("left",u),r.set("top",l),r.setCoords(),e.renderAll();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}};function g(t){return new Promise(function(e,n){u.Image.fromURL(t,e)})}function y(t,e){var n=t.x,r=t.y,i=e*Math.PI/180;return{x:Math.cos(i)*n-Math.sin(i)*r,y:Math.sin(i)*n+Math.cos(i)*r}}function b(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function x(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}var w=m;function _(t,e,n,r,i,o,s,a){var c,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:u}}var C=_(w,l,f,!1,null,null,null);C.options.__file="GlassTest.vue";var j=C.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overflow-auto my-2"},[n("div",{staticClass:"flex justify-center"},[n("div",{staticClass:"px-2 max-w-full"},[n("div",{staticClass:"flex -mx-2 items-stretch"},t._l(t.glasses,function(e){return n("div",{key:e.slug,staticClass:"flex-none px-2 w-1/3 md:w-32 mx-auto"},[n("div",{staticClass:"p-2 md:p-4 border-2 cursor-pointer",class:{"border-blue":t.active===e.slug},on:{click:function(n){t.$emit("update:active",e.slug)}}},[n("img",{staticClass:"block",attrs:{src:e.picture,alt:""}})])])}))])])])},L=[],O={props:{active:{type:String,required:!0},glasses:{type:Array,required:!0}}},M=O,S=(n("56ee"),_(M,k,L,!1,null,null,null));S.options.__file="GlassColors.vue";var E=S.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overflow-auto my-2"},[n("div",{staticClass:"flex justify-center"},[n("div",{staticClass:"px-2 max-w-full"},[n("div",{staticClass:"flex md:block -mx-2 items-stretch"},t._l(t.models,function(e){return n("div",{key:e.id,staticClass:"flex-none px-2 mb-2"},[n("div",{staticClass:"border-2 cursor-pointer",class:{"border-green":t.active===e.id},on:{click:function(n){t.$emit("update:active",e.id)}}},[n("img",{staticClass:"block",attrs:{src:e.photo,alt:"",width:"80"}})])])}))])])])},$=[],A=(n("cadf"),n("097d"),{props:{active:{type:String,required:!0},models:{type:Array,required:!0}}}),R=A,T=_(R,P,$,!1,null,null,null);T.options.__file="PhotosGallery.vue";var I=T.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-4"},["choose"===t.step?n("div",[n("div",{staticClass:"absolute pin-l pin-t ml-2 mt-2"},[n("button",{on:{click:function(e){t.$emit("cancel")}}},[n("svg",{staticStyle:{width:"48px",height:"48px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"#003663",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}})])])]),n("div",{staticClass:"flex justify-center my-2"},[t.camera?n("div",{staticClass:"px-3"},[n("button",{staticClass:"hidden md:block",on:{click:function(e){t.step="photo"}}},[n("img",{attrs:{src:"https://isee-glasses.com/pages/producto/tomar-foto.png",alt:""}}),n("br"),n("br"),t._v("\n          Tomar una foto\n        ")]),n("button",{staticClass:"md:hidden",on:{click:t.openCamera}},[n("img",{attrs:{src:"https://isee-glasses.com/pages/producto/tomar-foto.png",alt:""}}),n("br"),n("br"),t._v("\n          Tomar una foto\n        ")]),n("input",{ref:"fileCamera",attrs:{type:"file",accept:".jpg, .jpeg, .png;capture=camera",hidden:""},on:{change:function(e){t.pick("fileCamera")}}})]):t._e(),n("div",{staticClass:"px-3"},[n("button",{on:{click:t.browse}},[n("img",{attrs:{src:"https://isee-glasses.com/pages/producto/subir-foto.png",alt:""}}),n("br"),n("br"),t._v("\n          Subir foto\n        ")]),n("input",{ref:"file",attrs:{type:"file",accept:".jpg, .jpeg, .png",hidden:""},on:{change:function(e){t.pick("file")}}})])])]):"photo"===t.step?n("div",[n("div",{staticClass:"absolute pin-l pin-t ml-2 mt-2"},[n("button",{on:{click:function(e){t.step="choose"}}},[n("svg",{staticStyle:{width:"48px",height:"48px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"#003663",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}})])])]),n("div",[n("div",{staticClass:"flex justify-center items-center"},[t._m(0),n("div",{staticClass:"flex-none"},[n("TheWebcam",{on:{capture:t.capture,error:function(e){t.camera=!1,t.step="choose"}}})],1)]),t._m(1)])]):"markers"===t.step?n("div",[n("div",{staticClass:"absolute pin-l pin-t ml-2 mt-2"},[n("button",{on:{click:function(e){t.step="choose"}}},[n("svg",{staticStyle:{width:"48px",height:"48px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"#003663",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}})])])]),n("ModelSettings",{attrs:{model:t.model},on:{done:t.create}})],1):t._e()])},F=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hidden md:block"},[n("div",{staticClass:"pl-2 pr-4 my-4 text-xs text-center"},[n("div",{},[n("div",{staticClass:"mb-2"},[n("img",{attrs:{src:"https://isee-glasses.com/pages/producto/ic-3.png",alt:""}}),n("p",[t._v("Pon tu rostro en el centro")])]),n("div",{staticClass:"mb-2"},[n("img",{attrs:{src:"https://isee-glasses.com/pages/producto/ic-2.png",alt:""}}),n("p",[t._v("Quítate los lentes")])]),n("div",{staticClass:"mb-2"},[n("img",{attrs:{src:"https://isee-glasses.com/pages/producto/ic-4.png",alt:""}}),n("p",[t._v("Evita inclinar tu cabeza")])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block md:hidden px-2 my-4 text-xs text-center"},[n("div",{staticClass:"flex -mx-2"},[n("div",{staticClass:"w-1/3"},[n("img",{attrs:{src:"https://isee-glasses.com/pages/producto/ic-3.png",alt:""}}),n("p",[t._v("Pon tu rostro en el centro")])]),n("div",{staticClass:"w-1/3"},[n("img",{attrs:{src:"https://isee-glasses.com/pages/producto/ic-2.png",alt:""}}),n("p",[t._v("Quítate los lentes")])]),n("div",{staticClass:"w-1/3"},[n("img",{attrs:{src:"https://isee-glasses.com/pages/producto/ic-4.png",alt:""}}),n("p",[t._v("Evita inclinar tu cabeza")])])])])}],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("div",{staticClass:"mb-3"},[n("web-cam",{ref:"webcam",staticClass:"bg-black",attrs:{width:280,height:210,deviceId:t.deviceId},on:{started:t.onStarted,stopped:t.onStopped,error:t.onError,cameras:t.onCameras,"camera-change":t.onCameraChange}})],1),n("button",{on:{click:t.onCapture}},[n("img",{staticClass:"w-12 h-12",attrs:{src:"https://isee-glasses.com/pages/producto/tomar-foto.png",alt:""}})])])},V=[],H=n("b3cb"),U={components:{WebCam:H["WebCam"]},data:function(){return{img:null,camera:null,deviceId:null,devices:[]}},computed:{device:function(){var t=this;return this.devices.find(function(e){return e.deviceId==t.deviceId})}},watch:{camera:function(t){this.deviceId=t},devices:function(){var t=this.devices[0];t&&(this.camera=t.deviceId,this.deviceId=t.deviceId)}},beforeDestroy:function(){this.onStop()},methods:{onCapture:function(){this.img=this.$refs.webcam.capture(),this.$emit("capture",this.img)},onStarted:function(t){},onStopped:function(t){},onStop:function(){this.$refs.webcam.stop()},onStart:function(){this.$refs.webcam.start()},onError:function(t,e){console.log("On Error Event",t,e),this.$emit("error")},onCameras:function(t){this.devices=t},onCameraChange:function(t){this.deviceId=t,this.camera=t}}},N=U,D=(n("aa3e"),_(N,B,V,!1,null,null,null));D.options.__file="TheWebcam.vue";var Z=D.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[t._m(0),t._m(1),n("div",{staticClass:"flex justify-center"},[n("canvas",{ref:"canvas",staticClass:"flex-none",attrs:{width:"284",height:"366"}})]),n("div",{staticClass:"flex flex-wrap justify-center items-center"},[n("div",{staticClass:"my-1"},[n("button",{key:"rotate-",staticClass:"p-2 m-2 text-white rounded-full bg-iblue inline-flex",on:{click:function(e){t.rotate(-45)}}},[n("svg",{staticClass:"fill-current",staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M13,4.07V1L8.45,5.55L13,10V6.09C15.84,6.57 18,9.03 18,12C18,14.97 15.84,17.43 13,17.91V19.93C16.95,19.44 20,16.08 20,12C20,7.92 16.95,4.56 13,4.07M7.1,18.32C8.26,19.22 9.61,19.76 11,19.93V17.9C10.13,17.75 9.29,17.41 8.54,16.87L7.1,18.32M6.09,13H4.07C4.24,14.39 4.79,15.73 5.69,16.89L7.1,15.47C6.58,14.72 6.23,13.88 6.09,13M7.11,8.53L5.7,7.11C4.8,8.27 4.24,9.61 4.07,11H6.09C6.23,10.13 6.58,9.28 7.11,8.53Z"}})])]),n("button",{key:"rotate+",staticClass:"p-2 m-2 text-white rounded-full bg-iblue inline-flex",on:{click:function(e){t.rotate(45)}}},[n("svg",{staticClass:"fill-current",staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M16.89,15.5L18.31,16.89C19.21,15.73 19.76,14.39 19.93,13H17.91C17.77,13.87 17.43,14.72 16.89,15.5M13,17.9V19.92C14.39,19.75 15.74,19.21 16.9,18.31L15.46,16.87C14.71,17.41 13.87,17.76 13,17.9M19.93,11C19.76,9.61 19.21,8.27 18.31,7.11L16.89,8.53C17.43,9.28 17.77,10.13 17.91,11M15.55,5.55L11,1V4.07C7.06,4.56 4,7.92 4,12C4,16.08 7.05,19.44 11,19.93V17.91C8.16,17.43 6,14.97 6,12C6,9.03 8.16,6.57 11,6.09V10L15.55,5.55Z"}})])]),n("button",{key:"scale-",staticClass:"p-2 m-2 text-white rounded-full bg-iblue inline-flex",on:{click:function(e){t.scale(t.zoom-25)}}},[n("svg",{staticClass:"fill-current",staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z"}})])]),n("button",{key:"scale+",staticClass:"p-2 m-2 text-white rounded-full bg-iblue inline-flex",on:{click:function(e){t.scale(t.zoom+25)}}},[n("svg",{staticClass:"fill-current",staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z"}})])])]),n("div",[n("button",{staticClass:"px-6 py-3 text-white rounded bg-iblue",on:{click:t.save}},[t._v("\n        LISTO\n      ")])])])])},W=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex justify-center -mt-8"},[n("div",{staticClass:"w-6 h-6 m-2 rounded-full bg-purple"}),n("div",{staticClass:"w-6 h-6 m-2 rounded-full bg-green"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-2"},[n("p",{staticClass:"text-iblue"},[t._v("Coloca las cruces en tus ojos")])])}],q={props:{model:{type:Object,required:!0}},data:function(){return{canvas:null,objs:{photo:null,crossA:null,crossB:null},zoom:100,rotation:0,initialZoom:0}},mounted:function(){var t=s(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.canvas=new fabric.Canvas(this.$refs.canvas),fabric.Object.prototype.transparentCorners=!1,fabric.devicePixelRatio=1,e.setWidth(284),e.setHeight(366),e.setBackgroundColor("rgba(0,0,0,1)"),e.preserveObjectStacking=!0,t.next=9,this.loadModel();case 9:e.renderAll();case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{scale:function(t){this.zoom=t,this.zoom>350&&(this.zoom=350),this.zoom<100&&(this.zoom=100),this.objs.photo.scale(this.initialZoom*this.zoom/100),this.canvas.renderAll()},rotate:function(t){this.rotation+=t,this.objs.photo.rotate(this.rotation),this.canvas.renderAll()},save:function(){var t=s(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=[{x:this.objs.crossA.left+this.objs.crossA.width/2,y:this.objs.crossA.top+this.objs.crossA.height/3},{x:this.objs.crossB.left+this.objs.crossB.width/2,y:this.objs.crossB.top+this.objs.crossB.height/3}],this.objs.crossA.visible=!1,this.objs.crossB.visible=!1,this.canvas.renderAll(),t.next=6,this.$nextTick();case 6:n=this.canvas.toDataURL({format:"jpeg",multiplier:1,left:0,top:0,width:284,height:366}),this.$emit("done",{photo:n,points:e});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),loadModel:function(){var t=s(regeneratorRuntime.mark(function t(){var e,n,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.canvas,t.next=3,X(this.model.photo);case 3:n=this.objs.photo=t.sent,n.hasControls=!1,e.add(n),n.width/n.height>e.width/e.height?this.initialZoom=e.height/n.height:this.initialZoom=e.width/n.width,n.set({scaleX:this.initialZoom,scaleY:this.initialZoom,originX:"center",originY:"center",centeredScaling:!0}),n.center(),r=this.objs.crossA=Y("#9561e2"),e.add(r),r.set("left",this.model.points[0].x-r.width/2),r.set("top",this.model.points[0].y-r.height/2),r.setCoords(),i=this.objs.crossB=Y("#38c172"),e.add(i),i.set("left",this.model.points[1].x-i.width/2),i.set("top",this.model.points[1].y-i.height/2),i.setCoords(),e.renderAll();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}};function X(t){return new Promise(function(e,n){fabric.Image.fromURL(t,e)})}function Y(t){var e=new fabric.Polyline([{x:30,y:30},{x:30,y:0},{x:30,y:30},{x:60,y:30},{x:30,y:30},{x:30,y:90},{x:30,y:30},{x:0,y:30},{x:30,y:30}],{stroke:t,strokeWidth:3});return e.hasControls=!1,e.hasBorders=!1,e}var K=q,Q=_(K,z,W,!1,null,null,null);Q.options.__file="ModelSettings.vue";var J=Q.exports,tt="https://api.isee-glasses.com",et={props:{guest:{type:Object,required:!0}},components:{TheWebcam:Z,ModelSettings:J},data:function(){return{step:"choose",method:"",model:{photo:"",points:[{x:108,y:164},{x:179,y:164}]},camera:!0}},watch:{step:{immediate:!0,handler:function(t){this.$emit("step",t)}}},methods:{browse:function(){this.$refs.file.value="",this.$refs.file.click()},openCamera:function(){this.$refs.fileCamera.value="",this.$refs.fileCamera.click()},pick:function(){var t=s(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.$refs[e],n.files.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,nt(n.files[0]);case 5:this.model.photo=t.sent,this.step="markers";case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),capture:function(){var t=s(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.model.photo=e,this.step="markers";case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),create:function(){var t=s(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.axios.post(tt+"/public/guests/"+this.guest.id+"/models",e);case 3:n=t.sent,r=n.data,this.$emit("done",r),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),window.console.log(t.t0.message);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}};function nt(t){return new Promise(function(e,n){var r=new FileReader;r.readAsDataURL(t),r.onload=function(){return e(r.result)},r.onerror=n})}var rt=et,it=_(rt,G,F,!1,null,null,null);it.options.__file="NewPhoto.vue";var ot=it.exports,st="https://api.isee-glasses.com",at={props:{visible:{type:Boolean,default:!1},product:{type:String,required:!0}},components:{GlassTest:j,GlassColors:E,PhotosGallery:I,NewPhoto:ot},data:function(){return{loaded:{product:!1,guest:!1},error:!1,resource:null,guest:null,active:{glass:null,model:null},addingModel:!1,photoStep:""}},computed:{glasses:function(){return this.resource.colors},glass:function(){var t=this;return this.glasses.find(function(e){return e.slug===t.active.glass})},models:function(){return this.guest?this.guest.models.map(function(t){return c({},t,{photo:st+t.photo})}):[]},model:function(){var t=this;return this.models.find(function(e){return e.id===t.active.model})}},mounted:function(){var t=s(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadModels();case 2:this.loadProduct();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),watch:{"active.model":function(){this.addingModel=!1},visible:function(t){this.addingModel=!1,this.loaded.product=!1,this.error=!1,t&&this.loadProduct()},product:"loadProduct"},methods:{loadProduct:function(){var t=s(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.axios.get(st+"/public/products/"+this.product);case 3:if(e=t.sent,n=e.data,n.colors=n.colors.filter(function(t){return 2===t.points.length}),n.colors.length){t.next=9;break}return this.error=!0,t.abrupt("return");case 9:this.resource=n,this.active.glass=n.colors[0].slug,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),window.console.error(t.t0.message),this.error=!0;case 17:return t.prev=17,this.loaded.product=!0,t.finish(17);case 20:case"end":return t.stop()}},t,this,[[0,13,17,20]])}));return function(){return t.apply(this,arguments)}}(),loadModels:function(){var t=s(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,n=window.localStorage.getItem("isee-guest-id"),!n){t.next=17;break}return t.prev=3,t.next=6,window.axios.get(st+"/public/guests/"+n);case 6:e=t.sent.data,t.next=15;break;case 9:return t.prev=9,t.t0=t["catch"](3),t.next=13,window.axios.get(st+"/public/guests/generate");case 13:e=t.sent.data,window.localStorage.setItem("isee-guest-id",e.id);case 15:t.next=21;break;case 17:return t.next=19,window.axios.get(st+"/public/guests/generate");case 19:e=t.sent.data,window.localStorage.setItem("isee-guest-id",e.id);case 21:this.guest=e,this.active.model=this.guest.models[0].id,t.next=29;break;case 25:t.prev=25,t.t1=t["catch"](0),window.console.error(t.t1.message),this.error=!0;case 29:return t.prev=29,this.loaded.guest=!0,t.finish(29);case 32:case"end":return t.stop()}},t,this,[[0,25,29,32],[3,9]])}));return function(){return t.apply(this,arguments)}}(),updateGuest:function(){var t=s(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.guest=e,this.addingModel=!1,this.active.model=this.models[0].id;case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},ct=at,ut=(n("25f3"),n("d153"),_(ct,i,o,!1,null,null,null));ut.options.__file="TheTester.vue";var lt=ut.exports;e["default"]=lt}})["default"]});
//# sourceMappingURL=GlassTester.umd.min.js.map